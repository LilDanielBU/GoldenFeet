# --- Nombre ---
spring.application.name=GoldenFeets

# --- DATASOURCE (CORREGIDO PARA RAILWAY Y LOCAL) ---
# Usamos variables de entorno. Si no existen (como en tu PC), usa los valores por defecto.
spring.datasource.url=jdbc:mysql://${MYSQLHOST:localhost}:${MYSQLPORT:3306}/${MYSQLDATABASE:goldenfeets_db}?serverTimezone=UTC&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username=${MYSQLUSER:root}
spring.datasource.password=${MYSQLPASSWORD:1234}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# --- JPA ---
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# --- Seguridad ---
# NOTA: En producción idealmente esto también debería ser una variable de entorno
application.security.jwt.secret-key=12345678901234567890123456789012
application.security.jwt.expiration=86400000

# --- Almacenamiento ---
# NOTA IMPORTANTE: En Railway, '/tmp' se borra cada vez que reinicias la app.
# Para persistencia real necesitas un servicio como AWS S3 o un volumen (Railway Volumes).
storage.location=/tmp/goldenfeet-uploads/
admin.default.email=admin@goldenfeet.com
admin.default.password=admin1234

# Configuración de Brevo SMTP
spring.mail.host=smtp-relay.brevo.com
spring.mail.port=587
spring.mail.username=${BREVO_USER}
spring.mail.password=${BREVO_PWD}

# Propiedades estándar para seguridad TLS
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# (Opcional) Para depurar si algo falla
 spring.mail.debug=true

# TIMEOUTS AUMENTADOS (La clave para arreglar el bug)
# Subimos de 5000 a 20000 (20 segundos) para dar tiempo a que Google responda
spring.mail.properties.mail.smtps.connectiontimeout=20000
spring.mail.properties.mail.smtps.timeout=20000
spring.mail.properties.mail.smtps.writetimeout=20000