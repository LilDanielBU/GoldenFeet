<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Asignar Distribuidor - Golden Feets</title>
</head>
<body>
<header>
    <div class="header-title"><i class="fas fa-truck"></i><h2>Portal de Entregas</h2></div>
</header>

<div class="container-main">
    <div class="main-header">
        <h1><i class="fas fa-user-plus me-2"></i>Asignar Distribuidor</h1>
    </div>
    <div class="content-padding">
        <h4 class="mb-3">Detalles de la Entrega #<span th:text="${entrega.idEntrega}"></span></h4>
        <ul class="info-list mb-4">
            <li><strong>ID Venta:</strong> <span th:text="${entrega.venta.idVenta}"></span></li>
            <li><strong>Estado Actual:</strong> <span th:text="${entrega.estado}"></span></li>
        </ul>

        <form th:action="@{/gerente-entregas/asignar}" method="post">
            <input type="hidden" name="entregaId" th:value="${entrega.idEntrega}" />
            <div class="mb-3">
                <label for="distribuidor" class="form-label fs-5">Seleccione un Distribuidor:</label>
                <select id="distribuidor" name="distribuidorId" class="form-select form-select-lg" required>
                    <option value="">-- Distribuidores Disponibles --</option>
                    <option th:each="dist : ${distribuidores}"
                            th:value="${dist.idUsuario}"
                            th:text="${dist.nombre}"
                            th:selected="${dist.idUsuario == entrega.distribuidor?.idUsuario}"></option>
                </select>
            </div>
            <div class="mt-4">
                <button type="submit" class="btn btn-golden">Guardar Asignaci√≥n</button>
                <a th:href="@{/gerente-entregas/dashboard}" class="btn btn-secondary">Cancelar</a>
            </div>
        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>